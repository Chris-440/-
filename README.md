# -<h3>浅析数字炸弹游戏的公平性
    
</h3>

​																																	自动化二班	邓子建	200320217

**引言**：本文借助理论分析的方法，证明了“数字炸弹”游戏的不公平性。并借助计算机，进行了大量实验统计，分析游戏了胜率以及某些特殊性质。



<h5>
    一、规则叙述

​		在1~100以内，随机选择一个数字 $t_0$ 作为目标数字。甲乙两人在不知道 $t_0$ 的情况下轮流选择一个整数。该数字必须在可选数字范围以内。甲或乙每说出一个数字 $x_i$ ，丙将告知两人该数字大于 $t_0$或小于 $t_0$，并更新可选数字范围。将甲乙轮流说出的前 $n$ 个数字序列记作 $\{x_n\}$，序列中的所有数字构成集合 $S_n=\{x_1,x_2,...,x_n\}$ ，设集合 $X_1=\{x|x\in S_n 且 x<t_0\}$  ,$X_2=\{x|x\in S_n且x>t_0\}$ ，第 $k$ 次猜数字时，可选数字范围中最小的数字为 $a_n$ ，最大的数字为 $b_n$，则有 :
$$
a_{n+1}=max\ x+1,x\in X_1\bigcup \{0\}\\
b_{n+1}=min\ x-1,x\in X_2\bigcup \{101\}\\
x_n\in\{n|a_n\le n\le b_n 且 n\in Z\}
$$
 若两人说出的数字与 $t_0$ 不同，则继续游戏；若任一玩家说出的数字与 $t_0$ 相等，则游戏结束，该玩家胜利。

​		为了排除玩家策略和心理对游戏带来的不确定性，本文的讨论建立在双方玩家随机选择数字，且每次选中可选区间中任意一个整数的概率均相等的假设上。下文的叙述将沿用本节所定义的符号。



<h5>二、公平性分析

​		这个游戏是不公平的，先猜数字的人胜利概率小。以下论证该命题。

​		设第 $i$ 次猜中，且前 $i-1$ 次未猜中为事件 $A_i$，第 $i$ 次猜中为事件 $B_i$ 。则甲胜利的条件为事件 $A_{2k-1}$发生，乙胜利的条件为事件 $A_{2k}$ 发生。于是可以得到甲和乙胜利的概率的表达式：
$$
P(甲胜)=\sum^{50}_{k=1}P(A_{2k-1})\\
P(乙胜)=\sum^{50}_{k=1}P(A_{2k})
$$
​		为了检验公平性，将两者获胜的概率作差。若两者差值为 $0$，则说明游戏公平，否则游戏不公平。

令
$$
\Delta p=P(甲胜)-P(乙胜)
$$
则有：
$$
\Delta p=\sum^{50}_{k=1}P(A_{2k-1})-\sum^{50}_{k=1}P(A_{2k})=\sum^{50}_{k=1}[P(A_{2k-1})-P(A_{2k})]
$$
可以证明， $[P(A_{2k-1})-P(A_{2k})]$ 恒为负数。证明如下：
$$
P(A_{2k-1})-P(A_{2k})=P(A_{2k-1})-P(A_{2k}|\overline {A_{k-1}})P(\overline {A_{k-1}})\\
=\frac{1}{b_{n-1}-a_{n-1}+1}-\frac{1}{b_n-a_n+1}\frac{b_{n-1}-a_{n-1}}{b_{n-1}-a_{n-1}+1}\\
=\frac{1}{b_{n-1}-a_{n-1}+1}(1-\frac{b_{n-1}-a_{n-1}}{b_n-a_n+1})\\
=\frac{1}{(b_{n-1}-a_{n-1}+1)(b_n-a_n+1)} [(b_n-b_{n-1})+(a_{n+1}-a_{n})]
$$
由 $a_n$ 和 $b_n$ 的定义出发容易证明：
$$
\begin{cases}
(b_n-b_{n-1})\le0 \\
(a_{n-1}-a_{n})\le0
\end{cases}
$$
由游戏规则易知，每次猜数字后可选数字的范围必然缩小，故两个等号不可能同时成立。故有：
$$
(b_n-b_{n-1})+(a_{n+1}-a_{n})<0\\
\Rightarrow P(A_{2k-1})-P(A_{2k})=\frac{1}{(b_{n-1}-a_{n-1}+1)(b_n-a_n+1)} [(b_n-b_{n-1})+(a_{n+1}-a_{n})]<0\\
\Rightarrow \Delta p=P(甲胜)-P(乙胜)=\sum^{50}_{k=1}[P(A_{2k-1})-P(A_{2k})]<0\\
\Rightarrow P(甲胜)<P(乙胜)
$$

由此证得：这个游戏是不公平的，且先猜数字的人胜利概率小。



<h5>
    三、胜利的期望和公平性分析
</h5>

​		由于笔者水平有限，无法对该游戏建立概率模型，并精确的分析出获胜的期望等数学特征。因而采取通过计算机进行大量模拟试验的方法，从统计的角度来进行说明。

​		程序在 $t_0$ 为1、2、3、…、100的情况下，各进行了一千万次实验，并对甲乙两人的胜率进行了统计。在总共十亿次实验中，甲乙的胜利次数统计如下：

![](/Figure_2.png)		

​	 	可以发现，虽然根据上文的分析，先手的胜率小于后手的胜率，但这种胜率的差别是很小的。根据大数定律，可以通过频率估计概率，$P(甲胜)=49.832\%$，$P(乙胜)=50.168\%$ ，$\Delta P=0.336$。在实际的游戏中，玩家的心理、策略、以及其他外界干扰带来的影响远大于游戏本身不公平性带来的影响。

​		除此以外，笔者通过统计 $t_0$ 为不同取值时甲和乙的胜率，发现了 $t_0$ 的取值和胜率之间存在明显的关联性。

![](Figure_1.png)

​			可以观察到，随着 $t_0$从 1 和 100 趋近于50时，甲（先手方）的胜率呈下降趋势，乙（后手方）的胜率呈上升趋势。当 $t_0$ 的取值接近区间两端（1和100）时，两者胜率相差无几；而当$t_0$ 的取值接近区间中央（50）时，两者胜率相差较为明显。 而$t_0$ 的取值和先后手胜率的产生关联的原因，还需进一步的研究。
